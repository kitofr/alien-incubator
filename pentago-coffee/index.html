<html>
  <head><title>Pentago</title></head>
  <body>
    <canvas width="400" height="400" id="board" onclick="clickHandler(event);"></canvas>
    <script type="text/coffeescript">
      paintBoard = ->
        board = $('#board')[0]

        width = board.width
        height = board.height
        context = board.getContext('2d')

        context.beginPath()
        context.strokeStyle = '#666'
        context.lineWidth   = 4

        context.moveTo((width / 4) * 2, 0)
        context.lineTo((width / 4) * 2, height)

        context.moveTo(0, (height / 4) * 2)
        context.lineTo(width, (height / 4) * 2)

        context.stroke()
        context.closePath()

        context.beginPath()
        context.strokeStyle = '#AAA'
        context.lineWidth   = 2

        x = y = 40
        r = 20
        padding = 60
        offset = 200

        for i in [0...3]
          do (i) ->
            for j in [0..2]
              do (j) ->
              draw_arc(context, x + padding*i, y + r*3*j, r)
              draw_arc(context, x + padding*i + offset, y + r*3*j, r)
              draw_arc(context, x + padding*i, y + r*3*j + offset, r)
              draw_arc(context, x + padding*i + offset, y + r*3*j + offset, r)

        context.stroke()
        context.closePath()

      draw_arc = (context, x, y, r) ->
        context.moveTo(x + r, y)
        context.arc(x,y,r,0,Math.PI,false)
        

      jQuery ->
        paintBoard()

    </script>
    <script src="coffee-script.js" type="text/javascript" ></script>
    <script src="jquery-1.7.1.js" type="text/javascript"></script>
  </body>
</html>
